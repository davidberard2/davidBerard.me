<!DOCTYPE html>
<html>
    <head>
        <title>DavidBerard.me</title>
        <meta charset="UTF-8">
        <style>
            #circleLeft {
                float:left;
                width: 100px;
                height: 100px;
                -webkit-border-radius: 50px;
                -moz-border-radius: 50px;
                border-radius: 50px;
                border:2px solid red;
                background: white;
            }
            
            #circleRight {
                float:right;
                width: 100px;
                height: 100px;
                -webkit-border-radius: 50px;
                -moz-border-radius: 50px;
                border-radius: 50px;
                border:2px solid red;
                background: white;
            }
        </style>
    </head>
    <body>
        <button type="button" onclick="play()">Play!</button>
        <div id="all" style="border:2px solid yellow;width:100%;overflow:auto;">
            <div id="circleLeft"></div>
            <div id="circleRight"></div>
        </div>
        <script>
            function play(){
                var side = new Array(20);
                var timeCount = 0;
                var i;
                for (i=0; i <20; i++){
                    side[i]=new Array(2);
                }
                side[0][0]=0;
                for(i=0;i<20;i++) {
                    if (i!=0){
                        if (Math.random()*5>=4){
                            side[i][0]=side[i-1][0];
                        } else {
                            side[i][0]=Math.abs(side[i-1][0]-1);
                        }
                    }
                    side[i][1]= timeCount + (Math.random()*2000+1000);
                    timeCount = side[i][1] + 2000;
                }
                for(i=0;i<20;i++){
                    if(side[i][0]<1){
                        setTimeout(colorLeft, side[i][1])
                    } else if (side[i][0]>=1){
                        setTimeout(colorRight, side[i][1])
                    }
                    setTimeout(allWhite, (side[i][1]+2000))
                }
                setTimeout(all, timeCount+1000)
                console.log(side)
            }
            
            function colorLeft() {
                document.getElementById("circleLeft").style.backgroundColor = "red";
            }
            
            function colorRight() {
                document.getElementById("circleRight").style.backgroundColor = "red"; 
            }
            
            function allWhite() {
                document.getElementById("circleLeft").style.backgroundColor = "white";
                document.getElementById("circleRight").style.backgroundColor = "white";
            }
            
            function all() {
                document.getElementById("all").style.backgroundColor = "yellow";
            }
            
            
        </script>
    </body>
</html>
